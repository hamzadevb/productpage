{% extends 'base.html.twig' %}

{% block body %}
    <div class="container">
        <h1>Payment</h1>
        {% if cart.status is same as(true) %}
            <div class="alert alert-success" role="alert">
                <h4 class="alert-heading">Payment success!</h4>
                <p>Transaction : {{ cart.transaction }}</p>
                <hr>
                <p class="mb-0">Montant : {{ cart.total }} DH</p>
            </div>
        {% elseif cart.status is same as (false) %}
            <div class="alert alert-danger" role="alert">
                <h4 class="alert-heading">Payment failure</h4>
                <hr>
                <p class="mb-0">Montant : {{ cart.total }} DH</p>
            </div>
        {% endif %}
        <table class="table table-striped table-hover table-bordered align-middle">
            <thead class="table-primary">
            <th>Image</th>
            <th>Product</th>
            <th>Price (DH)</th>
            <th>Quantity</th>
            </thead>
            <tbody class="table-group-divider" {{ stimulus_target('cart', 'table') }}>
            {% for entry in cart.entries %}
                <tr>
                    <td>
                        <div class="product-image-container mx-auto my-3">
                            <img src="{{ asset('/images/product/' ~ entry.product.image) }}" class="card-img-top" alt="product image">
                        </div>
                    </td>
                    <td>{{ entry.product.name }}</td>
                    <td>{{ entry.product.price }}</td>
                    <td>{{ entry.quantity }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
